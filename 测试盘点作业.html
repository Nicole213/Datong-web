<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试盘点作业</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .test-link {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            margin: 20px 0;
            transition: all 0.3s;
        }
        .test-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
        }
        .info-box {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .info-box h2 {
            color: #667eea;
            margin-top: 0;
        }
        .info-box ul {
            line-height: 1.8;
        }
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .feature-card h3 {
            color: #667eea;
            margin-top: 0;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px;
        }
        .badge.need {
            background: #e3f2fd;
            color: #1976d2;
        }
        .badge.no-need {
            background: #f5f5f5;
            color: #999;
        }
    </style>
</head>
<body>
    <h1>📊 盘点作业测试页面</h1>
    
    <a href="pages/盘点作业.html" class="test-link">🚀 打开盘点作业页面</a>
    
    <div class="info-box">
        <h2>功能说明</h2>
        <p>盘点作业是PDA操作界面，用于现场盘点容器内的物料。</p>
        <ul>
            <li><strong>盘点口标识：</strong>固定显示当前操作终端所属盘点口（如出库口1）</li>
            <li><strong>盘点计划信息：</strong>显示当前正在执行的盘点计划</li>
            <li><strong>扫码容器：</strong>扫描到达盘点口的容器编码</li>
            <li><strong>物料明细：</strong>显示容器内所有物料及盘点信息</li>
            <li><strong>添加物料：</strong>发现多出的物料时可添加</li>
            <li><strong>完成盘点：</strong>确认入库库位并生成入库任务</li>
        </ul>
    </div>
    
    <div class="feature-list">
        <div class="feature-card">
            <h3>🔍 物料盘点</h3>
            <p><span class="badge need">需要盘点</span>的物料：</p>
            <ul>
                <li>显示账面数量</li>
                <li>填写盘点数量（扫码自动带出账面数量）</li>
                <li>自动计算盘点差异</li>
                <li>自动判断盘点结果（盘盈/盘亏/正常）</li>
            </ul>
            <p><span class="badge no-need">不需要盘点</span>的物料：</p>
            <ul>
                <li>所有盘点字段显示为空</li>
                <li>不可填写</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>➕ 添加物料</h3>
            <p>发现容器中多了物料时：</p>
            <ul>
                <li>点击"添加物料"按钮</li>
                <li>扫码新物料编码</li>
                <li>账面数量自动设为0</li>
                <li>填写盘点数量</li>
                <li>自动计算差异和结果</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>➖ 物料丢失</h3>
            <p>发现容器中少了物料时：</p>
            <ul>
                <li>不需要扫码丢失的物料</li>
                <li>该物料的盘点数量保持为0</li>
                <li>系统自动计算为盘亏</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3>✓ 完成盘点</h3>
            <p>盘点完成后：</p>
            <ul>
                <li>点击"完成盘点"按钮</li>
                <li>系统推荐入库库位</li>
                <li>可修改为其他适配库位</li>
                <li>确认后生成盘点入库任务</li>
                <li>容器将被送至指定库位</li>
            </ul>
        </div>
    </div>
    
    <div class="info-box">
        <h2>测试流程</h2>
        <ol>
            <li>打开盘点作业页面</li>
            <li>查看盘点口和计划信息</li>
            <li>点击"扫码容器"按钮，输入容器编码（如：TP-001）</li>
            <li>查看容器信息和物料明细</li>
            <li>为需要盘点的物料填写盘点数量</li>
            <li>观察盘点差异和结果的自动计算</li>
            <li>测试"添加物料"功能</li>
            <li>点击"完成盘点"按钮</li>
            <li>选择入库库位并确认</li>
            <li>查看任务生成提示</li>
        </ol>
    </div>
    
    <div class="info-box">
        <h2>模拟数据</h2>
        <h3>容器信息</h3>
        <ul>
            <li>容器编码：TP-001</li>
            <li>容器类型：标准托盘</li>
            <li>所在库位：1-5-12-1</li>
        </ul>
        
        <h3>物料明细</h3>
        <ul>
            <li>WL-2024-001 电子元件A型 <span class="badge need">需要盘点</span> 账面：100</li>
            <li>WL-2024-002 机械零件B型 <span class="badge need">需要盘点</span> 账面：50</li>
            <li>WL-2024-003 塑料配件C型 <span class="badge no-need">不需要盘点</span> 账面：0</li>
        </ul>
        
        <h3>物料主数据（可用于添加）</h3>
        <ul>
            <li>WL-2024-001 电子元件A型</li>
            <li>WL-2024-002 机械零件B型</li>
            <li>WL-2024-003 塑料配件C型</li>
            <li>WL-2024-004 橡胶密封圈D型</li>
            <li>WL-2024-005 金属材料E型</li>
        </ul>
        
        <h3>添加物料测试</h3>
        <p>点击"添加物料"按钮后，可以测试以下场景：</p>
        <ul>
            <li><strong>输入物料编码：</strong>输入 WL-2024-004，系统自动带出"橡胶密封圈D型"</li>
            <li><strong>输入物料名称：</strong>输入"金属材料E型"，系统自动带出 WL-2024-005</li>
            <li><strong>输入不存在的编码：</strong>输入 WL-9999，系统提示物料不存在</li>
            <li><strong>输入已存在的物料：</strong>输入 WL-2024-001，系统提示物料已存在</li>
            <li><strong>编码名称不匹配：</strong>输入编码 WL-2024-001 和名称"机械零件B型"，系统提示不匹配</li>
        </ul>
    </div>
</body>
</html>
